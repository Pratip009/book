{"version":3,"file":"static/js/351.85228a80.chunk.js","mappings":"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","sources":["component/Admin/GalleryImage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst GalleryImage = ({ galleryId }) => {  // Ensure `galleryId` is passed as a prop\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImage(file);\r\n    setPreview(URL.createObjectURL(file));\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    setCategory(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!title || !image || !category) {\r\n      setError(\"Please fill all the required fields.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"description\", description);\r\n    formData.append(\"file\", image);\r\n    formData.append(\"category\", category);\r\n\r\n    // Log formData contents\r\n    for (let pair of formData.entries()) {\r\n      console.log(pair[0] + \": \" + pair[1]);\r\n    }\r\n\r\n    try {\r\n      if (!galleryId) {\r\n        setError(\"Gallery ID is missing.\");\r\n        return;\r\n      }\r\n\r\n      const response = await axios.post(\r\n        `http://localhost:5000/admin/gallery/${galleryId}/upload`,  // Corrected URL with galleryId\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n\r\n      console.log(response.data); // Log response data from the server\r\n      alert(response.data.message);\r\n      setTitle(\"\");\r\n      setDescription(\"\");\r\n      setImage(null);\r\n      setPreview(null);\r\n      setCategory(\"\");\r\n      setError(\"\"); // Clear any previous errors\r\n    } catch (error) {\r\n      console.error(error); // Log error if request fails\r\n      setError(error.response?.data?.message || \"Something went wrong with the server\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto mt-10 p-5\">\r\n      <h1 className=\"text-2xl font-bold text-center mb-5\">Upload to Gallery</h1>\r\n\r\n      {/* Display error message */}\r\n      {error && <div className=\"text-red-500 text-center mb-4\">{error}</div>}\r\n\r\n      <form\r\n        className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <div className=\"mb-4\">\r\n          <label\r\n            className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n            htmlFor=\"title\"\r\n          >\r\n            Title\r\n          </label>\r\n          <input\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            id=\"title\"\r\n            type=\"text\"\r\n            placeholder=\"Enter gallery title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label\r\n            className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n            htmlFor=\"description\"\r\n          >\r\n            Description (optional)\r\n          </label>\r\n          <textarea\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            id=\"description\"\r\n            placeholder=\"Enter gallery description (optional)\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label\r\n            className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n            htmlFor=\"category\"\r\n          >\r\n            Category\r\n          </label>\r\n          <select\r\n            className=\"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            id=\"category\"\r\n            value={category}\r\n            onChange={handleCategoryChange}\r\n          >\r\n            <option value=\"\">Select a category</option>\r\n            <option value=\"Training\">Training</option>\r\n            <option value=\"School\">School</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label\r\n            className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n            htmlFor=\"image\"\r\n          >\r\n            Upload Image\r\n          </label>\r\n          <input\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            id=\"image\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleImageChange}\r\n          />\r\n        </div>\r\n\r\n        {preview && (\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-gray-700 mb-2\">Image Preview:</p>\r\n            <img\r\n              src={preview}\r\n              alt=\"Preview\"\r\n              className=\"max-w-full h-auto rounded shadow-md\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <button\r\n            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n            type=\"submit\"\r\n          >\r\n            Upload\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GalleryImage;\r\n"],"names":["_ref","galleryId","title","setTitle","useState","description","setDescription","image","setImage","preview","setPreview","category","setCategory","error","setError","_jsxs","className","children","_jsx","onSubmit","async","e","preventDefault","formData","FormData","append","pair","entries","console","log","response","axios","post","headers","data","alert","message","_error$response","_error$response$data","htmlFor","id","type","placeholder","value","onChange","target","accept","file","files","URL","createObjectURL","src","alt"],"sourceRoot":""}