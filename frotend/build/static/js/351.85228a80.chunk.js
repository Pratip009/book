"use strict";(self.webpackChunkfrotend=self.webpackChunkfrotend||[]).push([[351],{45351:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var l=a(65043),s=a(86213),o=a(70579);const n=e=>{let{galleryId:t}=e;const[a,n]=(0,l.useState)(""),[r,i]=(0,l.useState)(""),[d,c]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(""),[x,g]=(0,l.useState)("");return(0,o.jsxs)("div",{className:"container mx-auto mt-10 p-5",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-center mb-5",children:"Upload to Gallery"}),x&&(0,o.jsx)("div",{className:"text-red-500 text-center mb-4",children:x}),(0,o.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:async e=>{if(e.preventDefault(),!a||!d||!h)return void g("Please fill all the required fields.");const l=new FormData;l.append("title",a),l.append("description",r),l.append("file",d),l.append("category",h);for(let t of l.entries())console.log(t[0]+": "+t[1]);try{if(!t)return void g("Gallery ID is missing.");const e=await s.A.post(`http://localhost:5000/admin/gallery/${t}/upload`,l,{headers:{"Content-Type":"multipart/form-data"}});console.log(e.data),alert(e.data.message),n(""),i(""),c(null),m(null),p(""),g("")}catch(x){var o,u;console.error(x),g((null===(o=x.response)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.message)||"Something went wrong with the server")}},children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Title"}),(0,o.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"title",type:"text",placeholder:"Enter gallery title",value:a,onChange:e=>n(e.target.value)})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Description (optional)"}),(0,o.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"description",placeholder:"Enter gallery description (optional)",value:r,onChange:e=>i(e.target.value)})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"Category"}),(0,o.jsxs)("select",{className:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"category",value:h,onChange:e=>{p(e.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Select a category"}),(0,o.jsx)("option",{value:"Training",children:"Training"}),(0,o.jsx)("option",{value:"School",children:"School"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image",children:"Upload Image"}),(0,o.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"image",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];c(t),m(URL.createObjectURL(t))}})]}),u&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("p",{className:"text-gray-700 mb-2",children:"Image Preview:"}),(0,o.jsx)("img",{src:u,alt:"Preview",className:"max-w-full h-auto rounded shadow-md"})]}),(0,o.jsx)("div",{className:"flex items-center justify-between",children:(0,o.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Upload"})})]})]})}}}]);
//# sourceMappingURL=351.85228a80.chunk.js.map