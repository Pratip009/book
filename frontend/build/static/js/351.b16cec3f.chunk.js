"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[351],{45351:(e,n,r)=>{r.r(n),r.d(n,{default:()=>x});var t=r(65043),o=r(63336),a=r(85865),i=r(68903),l=r(64600),s=r(32143),c=r(11906),d=r(88446),u=r(17392),h=r(60184),m=r(70579);const x=()=>{const[e,n]=(0,t.useState)(""),[r,x]=(0,t.useState)(""),[p,y]=(0,t.useState)("school"),[g,A]=(0,t.useState)([]),v=async()=>{const e=await fetch("/api/v1/gallery"),n=await e.json();A(n)};(0,t.useEffect)((()=>{v()}),[]);return(0,m.jsxs)("div",{children:[(0,m.jsxs)(o.A,{elevation:3,style:{padding:"20px",maxWidth:"500px",margin:"auto",marginTop:"50px"},children:[(0,m.jsx)(a.A,{variant:"h5",gutterBottom:!0,children:"Add Gallery Item"}),(0,m.jsx)("form",{onSubmit:async t=>{t.preventDefault();const o=await fetch("/api/v1/gallery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,imageUrl:r,category:p})}),a=await o.json();o.ok?(alert(a.message),n(""),x(""),y("school"),v()):alert(a.message)},children:(0,m.jsxs)(i.Ay,{container:!0,spacing:2,children:[(0,m.jsx)(i.Ay,{item:!0,xs:12,children:(0,m.jsx)(l.A,{fullWidth:!0,label:"Title",variant:"outlined",value:e,onChange:e=>n(e.target.value),required:!0})}),(0,m.jsx)(i.Ay,{item:!0,xs:12,children:(0,m.jsx)(l.A,{fullWidth:!0,label:"Image URL",variant:"outlined",value:r,onChange:e=>x(e.target.value),required:!0})}),(0,m.jsx)(i.Ay,{item:!0,xs:12,children:(0,m.jsxs)(l.A,{fullWidth:!0,select:!0,label:"Category",variant:"outlined",value:p,onChange:e=>y(e.target.value),required:!0,children:[(0,m.jsx)(s.A,{value:"school",children:"School"}),(0,m.jsx)(s.A,{value:"training",children:"Training"})]})}),(0,m.jsx)(i.Ay,{item:!0,xs:12,children:(0,m.jsx)(c.A,{fullWidth:!0,type:"submit",variant:"contained",style:{backgroundColor:"#FF4E00",color:"#fff"},children:"Add Gallery Item"})}),(0,m.jsx)(i.Ay,{item:!0,xs:12,children:(0,m.jsx)(a.A,{align:"center",children:(0,m.jsx)(d.A,{href:"https://console.cloudinary.com/console/c-b8a1761df49cd89ee685d0f02e0786/media_library/search?q=&view_mode=mosaic",target:"_blank",rel:"noopener",style:{color:"#007bff",textDecoration:"none",fontWeight:"bold"},children:"Click here to get the image URL"})})})]})})]}),(0,m.jsxs)(o.A,{elevation:3,style:{padding:"20px",maxWidth:"800px",margin:"auto",marginTop:"50px"},children:[(0,m.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Gallery Items"}),(0,m.jsx)(i.Ay,{container:!0,spacing:2,children:g.map((e=>(0,m.jsx)(i.Ay,{item:!0,xs:12,children:(0,m.jsx)(o.A,{elevation:1,style:{padding:"10px"},children:(0,m.jsxs)(i.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,m.jsx)(i.Ay,{item:!0,xs:2,children:(0,m.jsx)("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",borderRadius:"5px"}})}),(0,m.jsxs)(i.Ay,{item:!0,xs:8,children:[(0,m.jsx)(a.A,{variant:"h6",children:e.title}),(0,m.jsx)(a.A,{variant:"subtitle1",children:e.category})]}),(0,m.jsx)(i.Ay,{item:!0,xs:2,children:(0,m.jsx)(u.A,{onClick:()=>(async e=>{console.log(`Deleting gallery item with ID: ${e}`);try{const r=await fetch(`/api/v1/gallery/${e}`,{method:"DELETE"}),t=await r.text();console.log("Raw response:",t);try{const e=JSON.parse(t);r.ok?(alert("Image uploaded successfully"),v()):alert(e.message)}catch(n){console.error("Error parsing JSON response:",t)}}catch(r){console.error("Network or server error:",r)}})(e._id),children:(0,m.jsx)(h.qbC,{})})})]})})},e._id)))})]})]})}},88446:(e,n,r)=>{r.d(n,{A:()=>S});var t=r(98587),o=r(58168),a=r(65043),i=r(69292),l=r(98610),s=r(6803),c=r(34535),d=r(98206),u=r(87844),h=r(95849),m=r(85865),x=r(92532),p=r(72372);function y(e){return(0,p.Ay)("MuiLink",e)}const g=(0,x.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var A=r(17162),v=r(67266);const f={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=e=>{let{theme:n,ownerState:r}=e;const t=(e=>f[e]||e)(r.color),o=(0,A.Yn)(n,`palette.${t}`,!1)||r.color,a=(0,A.Yn)(n,`palette.${t}Channel`);return"vars"in n&&a?`rgba(${a} / 0.4)`:(0,v.X4)(o,.4)};var j=r(70579);const w=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],k=(0,c.Ay)(m.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,n[`underline${(0,s.A)(r.underline)}`],"button"===r.component&&n.button]}})((e=>{let{theme:n,ownerState:r}=e;return(0,o.A)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&(0,o.A)({textDecoration:"underline"},"inherit"!==r.color&&{textDecorationColor:b({theme:n,ownerState:r})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===r.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${g.focusVisible}`]:{outline:"auto"}})})),S=a.forwardRef((function(e,n){const r=(0,d.b)({props:e,name:"MuiLink"}),{className:c,color:m="primary",component:x="a",onBlur:p,onFocus:g,TypographyClasses:A,underline:v="always",variant:b="inherit",sx:S}=r,C=(0,t.A)(r,w),{isFocusVisibleRef:D,onBlur:T,onFocus:R,ref:W}=(0,u.A)(),[N,$]=a.useState(!1),F=(0,h.A)(n,W),I=(0,o.A)({},r,{color:m,component:x,focusVisible:N,underline:v,variant:b}),L=(e=>{const{classes:n,component:r,focusVisible:t,underline:o}=e,a={root:["root",`underline${(0,s.A)(o)}`,"button"===r&&"button",t&&"focusVisible"]};return(0,l.A)(a,y,n)})(I);return(0,j.jsx)(k,(0,o.A)({color:m,className:(0,i.A)(L.root,c),classes:A,component:x,onBlur:e=>{T(e),!1===D.current&&$(!1),p&&p(e)},onFocus:e=>{R(e),!0===D.current&&$(!0),g&&g(e)},ref:F,ownerState:I,variant:b,sx:[...Object.keys(f).includes(m)?[]:[{color:m}],...Array.isArray(S)?S:[S]]},C))}))}}]);
//# sourceMappingURL=351.b16cec3f.chunk.js.map