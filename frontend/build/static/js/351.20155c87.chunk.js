"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[351],{45351:(e,r,o)=>{o.r(r),o.d(r,{default:()=>m});var t=o(65043),n=o(63336),a=o(85865),i=o(68903),l=o(64600),s=o(32143),c=o(11906),d=o(88446),u=o(17392),p=o(60184),h=o(70579);const m=()=>{const[e,r]=(0,t.useState)(""),[o,m]=(0,t.useState)(""),[g,y]=(0,t.useState)("school"),[x,A]=(0,t.useState)([]),v=async()=>{const e=await fetch("/api/v1/gallery"),r=await e.json();A(r)};(0,t.useEffect)((()=>{v()}),[]);return(0,h.jsxs)("div",{children:[(0,h.jsxs)(n.A,{elevation:3,style:{padding:"20px",maxWidth:"500px",margin:"auto",marginTop:"50px"},children:[(0,h.jsx)(a.A,{variant:"h5",gutterBottom:!0,children:"Add Gallery Item"}),(0,h.jsx)("form",{onSubmit:async t=>{t.preventDefault();const n=await fetch("/api/v1/gallery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,imageUrl:o,category:g})}),a=await n.json();n.ok?(alert(a.message),r(""),m(""),y("school"),v()):alert(a.message)},children:(0,h.jsxs)(i.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"Title",variant:"outlined",value:e,onChange:e=>r(e.target.value),required:!0})}),(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"Image URL",variant:"outlined",value:o,onChange:e=>m(e.target.value),required:!0})}),(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsxs)(l.A,{fullWidth:!0,select:!0,label:"Category",variant:"outlined",value:g,onChange:e=>y(e.target.value),required:!0,children:[(0,h.jsx)(s.A,{value:"school",children:"School"}),(0,h.jsx)(s.A,{value:"training",children:"Training"})]})}),(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)(c.A,{fullWidth:!0,type:"submit",variant:"contained",style:{backgroundColor:"#FF4E00",color:"#fff"},children:"Add Gallery Item"})}),(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)(a.A,{align:"center",children:(0,h.jsx)(d.A,{href:"https://console.cloudinary.com/console/c-b8a1761df49cd89ee685d0f02e0786/media_library/search?q=&view_mode=mosaic",target:"_blank",rel:"noopener",style:{color:"#007bff",textDecoration:"none",fontWeight:"bold"},children:"Click here to get the image URL"})})})]})})]}),(0,h.jsxs)(n.A,{elevation:3,style:{padding:"20px",maxWidth:"800px",margin:"auto",marginTop:"50px"},children:[(0,h.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Gallery Items"}),(0,h.jsx)(i.Ay,{container:!0,spacing:2,children:x.map((e=>(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)(n.A,{elevation:1,style:{padding:"10px"},children:(0,h.jsxs)(i.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,h.jsx)(i.Ay,{item:!0,xs:2,children:(0,h.jsx)("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",borderRadius:"5px"}})}),(0,h.jsxs)(i.Ay,{item:!0,xs:8,children:[(0,h.jsx)(a.A,{variant:"h6",children:e.title}),(0,h.jsx)(a.A,{variant:"subtitle1",children:e.category})]}),(0,h.jsx)(i.Ay,{item:!0,xs:2,children:(0,h.jsx)(u.A,{onClick:()=>(async e=>{console.log(`Deleting gallery item with ID: ${e}`);try{const o=await fetch(`/api/v1/gallery/${e}`,{method:"DELETE"}),t=await o.text();console.log("Raw response:",t);try{const e=JSON.parse(t);o.ok?(alert("Image uploaded successfully"),v()):alert(e.message)}catch(r){console.error("Error parsing JSON response:",t)}}catch(o){console.error("Network or server error:",o)}})(e._id),children:(0,h.jsx)(p.qbC,{})})})]})})},e._id)))})]})]})}},17392:(e,r,o)=>{o.d(r,{A:()=>b});var t=o(98587),n=o(58168),a=o(65043),i=o(69292),l=o(98610),s=o(67266),c=o(34535),d=o(98206),u=o(75429),p=o(6803),h=o(92532),m=o(72372);function g(e){return(0,m.Ay)("MuiIconButton",e)}const y=(0,h.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var x=o(70579);const A=["edge","children","className","color","disabled","disableFocusRipple","size"],v=(0,c.Ay)(u.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:o}=e;return[r.root,"default"!==o.color&&r[`color${(0,p.A)(o.color)}`],o.edge&&r[`edge${(0,p.A)(o.edge)}`],r[`size${(0,p.A)(o.size)}`]]}})((e=>{let{theme:r,ownerState:o}=e;return(0,n.A)({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,s.X4)(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===o.edge&&{marginLeft:"small"===o.size?-3:-12},"end"===o.edge&&{marginRight:"small"===o.size?-3:-12})}),(e=>{let{theme:r,ownerState:o}=e;var t;const a=null==(t=(r.vars||r).palette)?void 0:t[o.color];return(0,n.A)({},"inherit"===o.color&&{color:"inherit"},"inherit"!==o.color&&"default"!==o.color&&(0,n.A)({color:null==a?void 0:a.main},!o.disableRipple&&{"&:hover":(0,n.A)({},a&&{backgroundColor:r.vars?`rgba(${a.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,s.X4)(a.main,r.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===o.size&&{padding:5,fontSize:r.typography.pxToRem(18)},"large"===o.size&&{padding:12,fontSize:r.typography.pxToRem(28)},{[`&.${y.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})})),b=a.forwardRef((function(e,r){const o=(0,d.b)({props:e,name:"MuiIconButton"}),{edge:a=!1,children:s,className:c,color:u="default",disabled:h=!1,disableFocusRipple:m=!1,size:y="medium"}=o,b=(0,t.A)(o,A),f=(0,n.A)({},o,{edge:a,color:u,disabled:h,disableFocusRipple:m,size:y}),j=(e=>{const{classes:r,disabled:o,color:t,edge:n,size:a}=e,i={root:["root",o&&"disabled","default"!==t&&`color${(0,p.A)(t)}`,n&&`edge${(0,p.A)(n)}`,`size${(0,p.A)(a)}`]};return(0,l.A)(i,g,r)})(f);return(0,x.jsx)(v,(0,n.A)({className:(0,i.A)(j.root,c),centerRipple:!0,focusRipple:!m,disabled:h,ref:r},b,{ownerState:f,children:s}))}))},88446:(e,r,o)=>{o.d(r,{A:()=>k});var t=o(98587),n=o(58168),a=o(65043),i=o(69292),l=o(98610),s=o(6803),c=o(34535),d=o(98206),u=o(87844),p=o(95849),h=o(85865),m=o(92532),g=o(72372);function y(e){return(0,g.Ay)("MuiLink",e)}const x=(0,m.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var A=o(17162),v=o(67266);const b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},f=e=>{let{theme:r,ownerState:o}=e;const t=(e=>b[e]||e)(o.color),n=(0,A.Yn)(r,`palette.${t}`,!1)||o.color,a=(0,A.Yn)(r,`palette.${t}Channel`);return"vars"in r&&a?`rgba(${a} / 0.4)`:(0,v.X4)(n,.4)};var j=o(70579);const S=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],w=(0,c.Ay)(h.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:o}=e;return[r.root,r[`underline${(0,s.A)(o.underline)}`],"button"===o.component&&r.button]}})((e=>{let{theme:r,ownerState:o}=e;return(0,n.A)({},"none"===o.underline&&{textDecoration:"none"},"hover"===o.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===o.underline&&(0,n.A)({textDecoration:"underline"},"inherit"!==o.color&&{textDecorationColor:f({theme:r,ownerState:o})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===o.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${x.focusVisible}`]:{outline:"auto"}})})),k=a.forwardRef((function(e,r){const o=(0,d.b)({props:e,name:"MuiLink"}),{className:c,color:h="primary",component:m="a",onBlur:g,onFocus:x,TypographyClasses:A,underline:v="always",variant:f="inherit",sx:k}=o,C=(0,t.A)(o,S),{isFocusVisibleRef:R,onBlur:z,onFocus:$,ref:I}=(0,u.A)(),[T,D]=a.useState(!1),N=(0,p.A)(r,I),B=(0,n.A)({},o,{color:h,component:m,focusVisible:T,underline:v,variant:f}),F=(e=>{const{classes:r,component:o,focusVisible:t,underline:n}=e,a={root:["root",`underline${(0,s.A)(n)}`,"button"===o&&"button",t&&"focusVisible"]};return(0,l.A)(a,y,r)})(B);return(0,j.jsx)(w,(0,n.A)({color:h,className:(0,i.A)(F.root,c),classes:A,component:m,onBlur:e=>{z(e),!1===R.current&&D(!1),g&&g(e)},onFocus:e=>{$(e),!0===R.current&&D(!0),x&&x(e)},ref:N,ownerState:B,variant:f,sx:[...Object.keys(b).includes(h)?[]:[{color:h}],...Array.isArray(k)?k:[k]]},C))}))}}]);
//# sourceMappingURL=351.20155c87.chunk.js.map